# DNS-over-TLS/HTTPS & SNI Proxy Stack

Стек для развертывания персонального DNS-сервера с фильтрацией рекламы и SNI-прокси для перенаправления трафика.

### Технологии
* **Caddy (Layer4)** — SNI-проксирование и автоматическое управление SSL (Let's Encrypt).
* **PowerDNS dnsdist** — высокопроизводительный DNS-балансировщик с поддержкой DoH/DoT и фильтрацией по спискам.
* **Docker** — контейнеризация всех сервисов.

---

### Используемые порты
Для корректной работы должны быть открыты следующие порты:

| Порт | Протокол | Сервис | Описание |
| :--- | :--- | :--- | :--- |
| **53** | UDP/TCP | dnsdist | Стандартный DNS |
| **853** | TCP | dnsdist | DNS-over-TLS (DoT) |
| **8053** | TCP | dnsdist | DNS-over-HTTPS (DoH) локально |
| **443** | TCP | Caddy | SNI Proxy / Внешний HTTPS (DoH) |
| **80** | TCP | Caddy | HTTP (для выпуска SSL сертификатов) |

---

### Быстрый запуск

```chmod +x setup.sh```


```./setup.sh```
